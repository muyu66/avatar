"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const config = require("config");
const Sequelize = require("sequelize");
const Entity = require("./entities");
class Model {
    constructor() {
        this.dbConfig = {
            database: config.get('sql.database'),
            username: config.get('sql.username'),
            password: config.get('sql.password'),
            option: config.get('sql'),
        };
        this.sequelize = new Sequelize(this.dbConfig.database, this.dbConfig.username, this.dbConfig.password, this.dbConfig.option);
        this.User = this.sequelize.define('user', Entity.User, Entity.UserConfig);
        this.Photo = this.sequelize.define('photo', Entity.Photo, Entity.PhotoConfig);
        this.Shoe = this.sequelize.define('shoe', Entity.Shoe, Entity.ShoeConfig);
        this.ShoePhoto = this.sequelize.define('shoe_photo', Entity.ShoePhoto, Entity.ShoePhotoConfig);
        this.UserFoot = this.sequelize.define('user_foot', Entity.UserFoot, Entity.UserFootConfig);
        this.UserFoot.belongsTo(this.Shoe);
    }
}
exports.Model = Model;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL21udC9jL1dlYi9hdmF0YXIvc3JjL21vZGVscy9pbmRleC50cyIsInNvdXJjZXMiOlsiL21udC9jL1dlYi9hdmF0YXIvc3JjL21vZGVscy9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLGlDQUFpQztBQUNqQyx1Q0FBdUM7QUFFdkMscUNBQXFDO0FBVXJDO0lBWUk7UUFDSSxJQUFJLENBQUMsUUFBUSxHQUFHO1lBQ1osUUFBUSxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDO1lBQ3BDLFFBQVEsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQztZQUNwQyxRQUFRLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUM7WUFDcEMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1NBQzVCLENBQUM7UUFFRixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFN0gsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBOEIsTUFBTSxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3ZHLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQWdDLE9BQU8sRUFBRSxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUM3RyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUE4QixNQUFNLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdkcsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBd0MsWUFBWSxFQUFFLE1BQU0sQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ3RJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQXNDLFdBQVcsRUFBRSxNQUFNLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUVoSSxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdkMsQ0FBQztDQUVKO0FBL0JELHNCQStCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGNvbmZpZyBmcm9tICdjb25maWcnO1xuaW1wb3J0ICogYXMgU2VxdWVsaXplIGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgKiBhcyBJbnN0YW5jZSBmcm9tICcuL2luc3RhbmNlJztcbmltcG9ydCAqIGFzIEVudGl0eSBmcm9tICcuL2VudGl0aWVzJztcbmltcG9ydCAqIGFzIE1vZGVscyBmcm9tICcuL21vZGVsJztcblxuaW50ZXJmYWNlIERiQ29uZmlnIHtcbiAgICBkYXRhYmFzZTogc3RyaW5nO1xuICAgIHVzZXJuYW1lOiBzdHJpbmc7XG4gICAgcGFzc3dvcmQ6IHN0cmluZztcbiAgICBvcHRpb246IGFueTtcbn1cblxuZXhwb3J0IGNsYXNzIE1vZGVsIHtcblxuICAgIHB1YmxpYyBzZXF1ZWxpemU6IFNlcXVlbGl6ZS5TZXF1ZWxpemU7XG4gICAgcHJpdmF0ZSBkYkNvbmZpZzogRGJDb25maWc7XG5cbiAgICBwdWJsaWMgVXNlcjogTW9kZWxzLlVzZXI7XG4gICAgcHVibGljIFBob3RvOiBNb2RlbHMuUGhvdG87XG4gICAgcHVibGljIFNob2U6IE1vZGVscy5TaG9lO1xuICAgIHB1YmxpYyBTaG9lUGhvdG86IE1vZGVscy5TaG9lUGhvdG87XG5cbiAgICBwdWJsaWMgVXNlckZvb3Q6IE1vZGVscy5Vc2VyRm9vdDtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRiQ29uZmlnID0ge1xuICAgICAgICAgICAgZGF0YWJhc2U6IGNvbmZpZy5nZXQoJ3NxbC5kYXRhYmFzZScpLFxuICAgICAgICAgICAgdXNlcm5hbWU6IGNvbmZpZy5nZXQoJ3NxbC51c2VybmFtZScpLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IGNvbmZpZy5nZXQoJ3NxbC5wYXNzd29yZCcpLFxuICAgICAgICAgICAgb3B0aW9uOiBjb25maWcuZ2V0KCdzcWwnKSxcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUodGhpcy5kYkNvbmZpZy5kYXRhYmFzZSwgdGhpcy5kYkNvbmZpZy51c2VybmFtZSwgdGhpcy5kYkNvbmZpZy5wYXNzd29yZCwgdGhpcy5kYkNvbmZpZy5vcHRpb24pO1xuXG4gICAgICAgIHRoaXMuVXNlciA9IHRoaXMuc2VxdWVsaXplLmRlZmluZTxJbnN0YW5jZS5Vc2VyLCBFbnRpdHkuSVVzZXI+KCd1c2VyJywgRW50aXR5LlVzZXIsIEVudGl0eS5Vc2VyQ29uZmlnKTtcbiAgICAgICAgdGhpcy5QaG90byA9IHRoaXMuc2VxdWVsaXplLmRlZmluZTxJbnN0YW5jZS5QaG90bywgRW50aXR5LklQaG90bz4oJ3Bob3RvJywgRW50aXR5LlBob3RvLCBFbnRpdHkuUGhvdG9Db25maWcpO1xuICAgICAgICB0aGlzLlNob2UgPSB0aGlzLnNlcXVlbGl6ZS5kZWZpbmU8SW5zdGFuY2UuU2hvZSwgRW50aXR5LklTaG9lPignc2hvZScsIEVudGl0eS5TaG9lLCBFbnRpdHkuU2hvZUNvbmZpZyk7XG4gICAgICAgIHRoaXMuU2hvZVBob3RvID0gdGhpcy5zZXF1ZWxpemUuZGVmaW5lPEluc3RhbmNlLlNob2VQaG90bywgRW50aXR5LklTaG9lUGhvdG8+KCdzaG9lX3Bob3RvJywgRW50aXR5LlNob2VQaG90bywgRW50aXR5LlNob2VQaG90b0NvbmZpZyk7XG4gICAgICAgIHRoaXMuVXNlckZvb3QgPSB0aGlzLnNlcXVlbGl6ZS5kZWZpbmU8SW5zdGFuY2UuVXNlckZvb3QsIEVudGl0eS5JVXNlckZvb3Q+KCd1c2VyX2Zvb3QnLCBFbnRpdHkuVXNlckZvb3QsIEVudGl0eS5Vc2VyRm9vdENvbmZpZyk7XG5cbiAgICAgICAgdGhpcy5Vc2VyRm9vdC5iZWxvbmdzVG8odGhpcy5TaG9lKTtcbiAgICB9XG5cbn1cbiJdfQ==